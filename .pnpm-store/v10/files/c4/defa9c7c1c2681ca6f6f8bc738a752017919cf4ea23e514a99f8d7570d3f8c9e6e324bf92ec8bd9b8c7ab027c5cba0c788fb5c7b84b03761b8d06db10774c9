var VueDemi=function(e,r,c){if(e.install)return e;if(r)if(r.version.slice(0,4)==="2.7."){for(var t in r)e[t]=r[t];e.isVue2=!0,e.isVue3=!1,e.install=function(){},e.Vue=r,e.Vue2=r,e.version=r.version,e.set=function(s,a,u){return Array.isArray(s)?(s.length=Math.max(s.length,a),s.splice(a,1,u),u):(r.set(s,a,u),u)},e.del=function(s,a){if(Array.isArray(s)){s.splice(a,1);return}r.delete(s,a)}}else if(r.version.slice(0,2)==="2.")if(c){for(var t in c)e[t]=c[t];e.isVue2=!0,e.isVue3=!1,e.install=function(){},e.Vue=r,e.Vue2=r,e.version=r.version}else console.error("[vue-demi] no VueCompositionAPI instance found, please be sure to import `@vue/composition-api` before `vue-demi`.");else if(r.version.slice(0,2)==="3."){for(var t in r)e[t]=r[t];e.isVue2=!1,e.isVue3=!0,e.install=function(){},e.Vue=r,e.Vue2=void 0,e.version=r.version,e.set=function(s,a,u){return Array.isArray(s)?(s.length=Math.max(s.length,a),s.splice(a,1,u),u):(s[a]=u,u)},e.del=function(s,a){if(Array.isArray(s)){s.splice(a,1);return}delete s[a]}}else console.error("[vue-demi] Vue version "+r.version+" is unsupported.");else console.error("[vue-demi] no Vue instance found, please be sure to import `vue` before `vue-demi`.");return e}(this.VueDemi=this.VueDemi||(typeof VueDemi!="undefined"?VueDemi:{}),this.Vue||(typeof Vue!="undefined"?Vue:void 0),this.VueCompositionAPI||(typeof VueCompositionAPI!="undefined"?VueCompositionAPI:void 0));(function(e,r,c,t,s){"use strict";var a=Object.defineProperty,u=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(i,l,n)=>l in i?a(i,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[l]=n,g=(i,l)=>{for(var n in l||(l={}))S.call(l,n)&&v(i,n,l[n]);if(u)for(var n of u(l))w.call(l,n)&&v(i,n,l[n]);return i};function C(i,l){const n=r.ref();let p=[];const h=t.createEventHook(),_=t.createEventHook(),y=t.createEventHook(),E=t.createEventHook(),P=t.createEventHook(),b=r.ref(!1),A=r.ref(!1),U=r.ref(!1),I=r.ref(!1),d=r.ref({color:"black",size:3,arrowEnd:!1,cornerRadius:0,dasharray:void 0,fill:"transparent",mode:"draw"});r.watch(d,()=>{const o=n.value;o&&(o.brush=d.value,o.mode=d.value.mode)},{deep:!0});const k=()=>{var o;return(o=n.value)==null?void 0:o.undo()},G=()=>{var o;return(o=n.value)==null?void 0:o.redo()},j=()=>{var o;return(o=n.value)==null?void 0:o.clear()},M=()=>{var o;return(o=n.value)==null?void 0:o.cancel()},R=o=>{var f;return(f=n.value)==null?void 0:f.load(o)},m=()=>{var o;return(o=n.value)==null?void 0:o.dump()},H=()=>{var o;p.forEach(f=>f()),(o=n.value)==null||o.unmount()},O=()=>{n.value&&(b.value=n.value.canUndo(),A.value=n.value.canRedo(),U.value=n.value.altPressed,I.value=n.value.shiftPressed)};return r.watch(()=>t.unrefElement(i),o=>{!o||typeof SVGSVGElement=="undefined"||!(o instanceof SVGSVGElement)||(n.value&&H(),n.value=c.createDrauu(g({el:o},l)),O(),p=[n.value.on("canceled",()=>_.trigger()),n.value.on("committed",()=>y.trigger()),n.value.on("start",()=>E.trigger()),n.value.on("end",()=>P.trigger()),n.value.on("changed",()=>{O(),h.trigger()})])},{flush:"post"}),s.tryOnScopeDispose(()=>H()),{drauuInstance:n,load:R,dump:m,clear:j,cancel:M,undo:k,redo:G,canUndo:b,canRedo:A,brush:d,onChanged:h.on,onCommitted:y.on,onStart:E.on,onEnd:P.on,onCanceled:_.on}}e.useDrauu=C,Object.defineProperty(e,"__esModule",{value:!0})})(this.VueUse=this.VueUse||{},VueDemi,Drauu,VueUse,VueUse);
